/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobiuswebdesign.co.uk)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.1.9
 *
 */
(function(m,q){var s='DataTable';'function'==typeof define&&define.amd?define([],q(s)):'object'==typeof exports?module.exports=q(s):m[s]=q(s)})(this,function(){'use strict';function q(I,J){if(this.initialized=!1,this.options=s.extend({perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:'&lsaquo;',nextText:'&rsaquo;',firstText:'&laquo;',lastText:'&raquo;',truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:'Search...',perPage:'{select} entries per page',noRows:'No entries found',info:'Showing {start} to {end} of {rows} entries'},layout:{top:'{select}{search}',bottom:'{info}{pager}'}},J),!I)throw new Error('The plugin requires a table as the first parameter');if('string'==typeof I){var L=I;if(I=document.querySelector(I),!I)throw new Error('The element \''+L+'\' can not be found.')}if('table'!==I.tagName.toLowerCase())throw new Error('The selected element is not a table.');if(this.options.header||(this.options.sortable=!1),null!==I.tHead||this.options.data&&(!this.options.data||this.options.data.headings)||(this.options.sortable=!1),!I.tBodies.length)if(!this.options.data)throw new Error('You don\'t seem to have a tbody in your table.');else if(!this.options.data.rows)throw new Error('You seem to be using the data option, but you\'ve not defined any rows.');if(I.tBodies.length&&!I.tBodies[0].rows.length&&this.options.data&&!this.options.data.rows)throw new Error('You seem to be using the data option, but you\'ve not defined any rows.');this.table=I,this.init()}var s={extend:function(I,J){for(var K in J)J.hasOwnProperty(K)&&('[object Object]'===Object.prototype.toString.call(I[K])?s.extend(I[K],J[K]):I[K]=J[K]);return I},each:function(I,J,K){if('[object Object]'===Object.prototype.toString.call(I))for(var L in I)Object.prototype.hasOwnProperty.call(I,L)&&J.call(K,L,I[L],I);else for(var M=0,N=I.length;M<N;M++)J.call(K,M,I[M],I)},createElement:function(I,J){var K=document,L=K.createElement(I);if(J&&'object'==typeof J){for(var M in J)'html'===M?L.innerHTML=J[M]:'text'===M?L.appendChild(K.createTextNode(J[M])):L.setAttribute(M,J[M])}return L},createFragment:function(){return document.createDocumentFragment()},hasClass:function(I,J){return I.classList?I.classList.contains(J):!!I.className&&!!I.className.match(new RegExp('(\\s|^)'+J+'(\\s|$)'))},addClass:function(I,J){s.hasClass(I,J)||(I.classList?I.classList.add(J):I.className=I.className.trim()+' '+J)},removeClass:function(I,J){s.hasClass(I,J)&&(I.classList?I.classList.remove(J):I.className=I.className.replace(new RegExp('(^|\\s)'+J.split(' ').join('|')+'(\\s|$)','gi'),' '))},append:function(I,J){return I&&J&&I.appendChild(J)},on:function(I,J,K,L){I.addEventListener(J,function(M){K.call(L||this,M)},!1)},isObject:function(I){return'[object Object]'===Object.prototype.toString.call(I)},isArray:function(I){return'[object Array]'===Object.prototype.toString.call(I)},isInt:function(I){return!isNaN(I)&&function(J){return(J||0)===J}(parseFloat(I))},getBoundingRect:function(I){var J=window,K=document,L=K.body,M=I.getBoundingClientRect(),N=void 0===J.pageXOffset?(K.documentElement||L.parentNode||L).scrollLeft:J.pageXOffset,O=void 0===J.pageYOffset?(K.documentElement||L.parentNode||L).scrollTop:J.pageYOffset;return{bottom:M.bottom+O,height:M.height,left:M.left+N,right:M.right+N,top:M.top+O,width:M.width}},preventDefault:function(I){if(I=I||window.event,I.preventDefault)return I.preventDefault()},includes:function(I,J){return-1<I.indexOf(J)},button:function(I,J,K){return s.createElement('li',{class:I,html:'<a href="#" data-page="'+J+'">'+K+'</a>'})},flush:function(I,J){if(I instanceof NodeList)s.each(I,function(K,L){s.flush(L,J)});else if(J)for(;I.hasChildNodes();)I.removeChild(I.firstChild);else I.innerHTML=''}},u=function(){var I=this.options,J='';if(H.mixin(this),I.data&&G.call(this),this.tbody=this.table.tBodies[0],this.tHead=this.table.tHead,this.tFoot=this.table.tFoot,!this.tHead){var K=s.createElement('thead'),L=s.createElement('tr');s.each(this.tbody.rows[0].cells,function(){s.append(L,s.createElement('th'))}),s.append(K,L),this.tHead=K}if(!I.header&&this.tHead&&this.table.removeChild(this.table.tHead),I.footer?this.tHead&&!this.tFoot&&(this.tFoot=s.createElement('tfoot',{html:this.tHead.innerHTML}),this.table.appendChild(this.tFoot)):this.tFoot&&this.table.removeChild(this.table.tFoot),this.wrapper=s.createElement('div',{class:'dataTable-wrapper'}),J+='<div class=\'dataTable-top\'>',J+=I.layout.top,J+='</div>',J+='<div class=\'dataTable-container\'></div>',J+='<div class=\'dataTable-bottom\'>',J+=I.layout.bottom,J+='</div>',J=J.replace('{info}','<div class=\'dataTable-info\'></div>'),I.perPageSelect){var M='<div class=\'dataTable-dropdown\'><label>';M+=I.labels.perPage,M+='</label></div>';var N=s.createElement('select',{class:'dataTable-selector'});s.each(I.perPageSelect,function(X,Y){var Z=Y===I.perPage,$=new Option(Y,Y,Z,Z);N.add($)}),M=M.replace('{select}',N.outerHTML),J=J.replace('{select}',M)}else J=J.replace('{select}','');if(I.searchable){var O='<div class=\'dataTable-search\'><input class=\'dataTable-input\' placeholder=\''+I.labels.placeholder+'\' type=\'text\'></div>';J=J.replace('{search}',O)}else J=J.replace('{search}','');var P=this.tHead.rows[0].cells;s.each(P,function(X,Y){if(Y.idx=X,I.sortable){var Z=s.createElement('a',{href:'#',class:'dataTable-sorter',html:Y.innerHTML});Y.innerHTML='',s.append(Y,Z)}}),s.addClass(this.table,'dataTable-table');var Q=s.createElement('div',{class:'dataTable-pagination'}),R=s.createElement('ul');if(s.append(Q,R),J=J.replace(/\{pager\}/g,Q.outerHTML),this.wrapper.innerHTML=J,this.container=this.wrapper.querySelector('.dataTable-container'),this.paginators=this.wrapper.querySelectorAll('.dataTable-pagination'),this.label=this.wrapper.querySelector('.dataTable-info'),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=s.getBoundingRect(this.table),this.rows=Array.prototype.slice.call(this.tbody.rows),this.update(),I.fixedHeight&&E.call(this),I.fixedColumns){var S,T=!1;if(this.table.tHead)S=this.table.tHead.rows[0].cells,s.each(S,function(X,Y){var Z=s.getBoundingRect(Y),$=100*(Z.width/this.rect.width);Y.style.width=$+'%'},this);else{S=[],T=s.createElement('thead');var U=s.createElement('tr'),V=this.table.tBodies[0].rows[0].cells;s.each(V,function(){var Z=s.createElement('th');U.appendChild(Z),S.push(Z)}),T.appendChild(U),this.table.insertBefore(T,this.table.tBodies[0]);var W=[];s.each(S,function(X,Y){var Z=s.getBoundingRect(Y),$=100*(Z.width/this.rect.width);W.push($)},this),s.each(this.rows,function(X,Y){s.each(Y.cells,function(Z,$){$.style.width=W[Z]+'%'})}),this.table.removeChild(T)}}y.call(this),z.call(this)},y=function(){var I=this.options;I.header||s.addClass(this.wrapper,'no-header'),I.footer||s.addClass(this.wrapper,'no-footer'),I.sortable&&s.addClass(this.wrapper,'sortable'),I.searchable&&s.addClass(this.wrapper,'searchable'),I.fixedHeight&&s.addClass(this.wrapper,'fixed-height'),I.fixedColumns&&s.addClass(this.wrapper,'fixed-columns')},z=function(){var I=this,J=I.options;if(J.perPageSelect){var K=I.wrapper.querySelector('.dataTable-selector');K&&s.on(K,'change',function(){J.perPage=parseInt(this.value,10),I.update(),J.fixedHeight&&E.call(I),I.emit('datatable.perpage')})}J.searchable&&(I.input=I.wrapper.querySelector('.dataTable-input'),I.input&&s.on(I.input,'keyup',function(){I.search(this.value)})),s.on(I.wrapper,'click',function(L){var M=L.target;'a'===M.nodeName.toLowerCase()&&M.hasAttribute('data-page')&&(s.preventDefault(L),I.page(M.getAttribute('data-page')))}),J.sortable&&s.on(I.tHead,'click',function(L){L=L||window.event;var M=L.target;'a'===M.nodeName.toLowerCase()&&s.hasClass(M,'dataTable-sorter')&&(s.preventDefault(L),I.sortColumn(M.parentNode.idx+1))})},A=function(){var I=this.options.perPage,J=this.searching?this.searchData:this.rows;this.pages=J.map(function(K,L){return 0==L%I?J.slice(L,L+I):null}).filter(function(K){return K}),this.totalPages=this.lastPage=this.pages.length},B=function(){if(this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var I=this.currentPage-1,J=s.createFragment();switch(s.each(this.pages[I],function(P,Q){s.append(J,Q)}),this.clear(J),this.onFirstPage=!1,this.onLastPage=!1,this.currentPage){case 1:this.onFirstPage=!0;break;case this.lastPage:this.onLastPage=!0;}}var N,K=0,L=0,M=0;if(this.totalPages&&(K=this.currentPage-1,L=K*this.options.perPage,M=L+this.pages[K].length,++L,N=this.searching?this.searchData.length:this.rows.length),this.label&&this.options.labels.info.length){var O=this.options.labels.info.replace('{start}',L).replace('{end}',M).replace('{page}',this.currentPage).replace('{pages}',this.totalPages).replace('{rows}',N);this.label.innerHTML=N?O:''}this.options.fixedHeight&&1==this.currentPage&&E.call(this)},C=function(){if(s.flush(this.paginators,this.isIE),!(1>=this.totalPages)){var I='pager',J=s.createFragment(),K=this.onFirstPage?1:this.currentPage-1,L=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&s.append(J,s.button(I,1,this.options.firstText)),this.options.nextPrev&&s.append(J,s.button(I,K,this.options.prevText));var M=this.links;this.options.truncatePager&&(M=F(this.links,this.currentPage,this.pages.length,this.options.pagerDelta)),s.addClass(this.links[this.currentPage-1],'active'),s.each(M,function(N,O){s.removeClass(O,'active'),s.append(J,O)}),s.addClass(this.links[this.currentPage-1],'active'),this.options.nextPrev&&s.append(J,s.button(I,L,this.options.nextText)),this.options.firstLast&&s.append(J,s.button(I,this.totalPages,this.options.lastText)),s.each(this.paginators,function(N,O){s.append(O,J.cloneNode(!0))})}},D=function(I,J){var K,L;1===J?(K=0,L=I.length):-1==J&&(K=I.length-1,L=-1);for(var M=!0;M;){M=!1;for(var N=K;N!=L;N+=J)if(I[N+J]&&I[N].value>I[N+J].value){var O=I[N],P=I[N+J];I[N]=P,I[N+J]=O,M=!0}}return I},E=function(){this.container.style.height=null,this.rect=s.getBoundingRect(this.container),this.container.style.height=this.rect.height+'px'},F=function(I,J,K,L){L=L||2;var M,N=2*L,O=J-L,P=J+L,Q=[],R=[];J<4-L+N?P=3+N:J>K-(3-L+N)&&(O=K-(2+N));for(var S=1;S<=K;S++)if(1==S||S==K||S>=O&&S<=P){var T=I[S-1];s.removeClass(T,'active'),Q.push(T)}return s.each(Q,function(U,V){var W=V.children[0].getAttribute('data-page');if(M){var X=M.children[0].getAttribute('data-page');if(2==W-X)R.push(I[X]);else if(1!=W-X){var Y=s.createElement('li',{class:'ellipsis',html:'<a href="#">&hellip;</a>'});R.push(Y)}}R.push(V),M=V}),R},G=function(I){var J=!1,K=!1;if(I=I||this.options.data,I.headings){J=s.createElement('thead');var L=s.createElement('tr');s.each(I.headings,function(M,N){var O=s.createElement('th',{html:N});L.appendChild(O)}),J.appendChild(L)}I.rows&&(K=s.createElement('tbody'),s.each(I.rows,function(M,N){if(I.headings&&I.headings.length!==N.length)throw new Error('The number of rows do not match the number of headings.');var O=s.createElement('tr');s.each(N,function(P,Q){var R=s.createElement('td',{html:Q});O.appendChild(R)}),K.appendChild(O)})),J&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),s.append(this.table,J)),K&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),s.append(this.table,K))},H=function(){};return H.prototype={on:function(I,J){this._events=this._events||{},this._events[I]=this._events[I]||[],this._events[I].push(J)},off:function(I,J){this._events=this._events||{},!1==I in this._events||this._events[I].splice(this._events[I].indexOf(J),1)},emit:function(I){if(this._events=this._events||{},!1!=I in this._events)for(var J=0;J<this._events[I].length;J++)this._events[I][J].apply(this,Array.prototype.slice.call(arguments,1))}},H.mixin=function(I){for(var J=['on','off','emit'],K=0;K<J.length;K++)'function'==typeof I?I.prototype[J[K]]=H.prototype[J[K]]:I[J[K]]=H.prototype[J[K]];return I},q.prototype.init=function(I){if(this.initialized||s.hasClass(this.table,'dataTable-table'))return!1;var J=this;this.options=s.extend(this.options,I||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,u.call(this),setTimeout(function(){J.emit('datatable.init'),J.initialized=!0},10)},q.prototype.destroy=function(){var I=this.options;I.sortable&&s.each(this.tHead.rows[0].cells,function(K,L){var M=L.firstElementChild.innerHTML;L.innerHTML=M,L.removeAttribute('style')},this);var J=s.createFragment();s.each(this.rows,function(K,L){J.appendChild(L)},this),this.clear(J),s.removeClass(this.table,'dataTable-table'),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},q.prototype.update=function(){A.call(this),B.call(this),this.links=[];for(var J,I=this.pages.length;I--;)J=I+1,this.links[I]=s.button(0===I?'active':'',J,J);C.call(this),this.emit('datatable.update')},q.prototype.search=function(I){return I=I.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],I.length?void(this.clear(),s.each(this.rows,function(J,K){var L=s.includes(this.searchData,K),M=I.split(' ').reduce(function(N,O){return N&&s.includes(K.textContent.toLowerCase(),O)},!0);M&&!L&&this.searchData.push(K)},this),s.addClass(this.wrapper,'search-results'),!this.searchData.length&&(s.removeClass(this.wrapper,'search-results'),this.setMessage(this.options.labels.noRows)),this.update(),this.emit('datatable.search',I,this.searchData)):(this.searching=!1,this.update(),this.emit('datatable.search',I,this.searchData),s.removeClass(this.wrapper,'search-results'),!1)},q.prototype.page=function(I){return I!=this.currentPage&&(isNaN(I)||(this.currentPage=parseInt(I,10)),I>this.pages.length||0>I?!1:void(B.call(this),C.call(this),this.emit('datatable.page',I)))},q.prototype.sortColumn=function(I,J){if(1>I||I>this.tHead.rows[0].cells.length)return!1;--I;var K,L=this.searching?this.searchData:this.rows,M=[],N=[],O=0,P=0,Q=this.tHead.rows[0].cells[I];s.each(L,function(T,U){var V=U.cells[I],W=V.textContent,X=W.replace(/(\$|\,|\s)/g,'');parseFloat(X)==X?N[P++]={value:+X,row:U}:M[O++]={value:W,row:U}});var R,S;s.hasClass(Q,'asc')||'asc'==J?(R=D(M,-1),S=D(N,-1),K='descending',s.removeClass(Q,'asc'),s.addClass(Q,'desc')):(R=D(N,1),S=D(M,1),K='ascending',s.removeClass(Q,'desc'),s.addClass(Q,'asc')),this.lastTh&&Q!=this.lastTh&&(s.removeClass(this.lastTh,'desc'),s.removeClass(this.lastTh,'asc')),this.lastTh=Q,L=R.concat(S),this.searching?(this.searchData=[],s.each(L,function(T,U){this.searchData.push(U.row)},this)):(this.rows=[],s.each(L,function(T,U){this.rows.push(U.row)},this)),this.update(),this.emit('datatable.sort',I,K)},q.prototype.addRows=function(I){if('[object Object]'!==Object.prototype.toString.call(I))throw new Error('Function addRows: The method requires an object.');if(!I.rows)throw new Error('Function addRows: Your object is missing the \'rows\' property.');var J=this;s.each(I.rows,function(K,L){var M=s.createElement('tr');s.each(L,function(N,O){var P=s.createElement('td',{html:O});M.appendChild(P)}),J.rows.push(M)}),this.update()},q.prototype.refresh=function(){this.options.searchable&&(this.input.value='',this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit('datatable.refresh')},q.prototype.clear=function(I){this.tbody&&s.flush(this.tbody,this.isIE);var J=this.tbody;this.tbody||(J=this.table),I&&('string'==typeof I?J.innerHTML=I:s.append(J,I))},q.prototype.export=function(I,J,K,L,M){var N=this,O=[],P=[];if('csv'===I&&O.push(this.tHead.rows[0]),!M)O=O.concat(this.rows);else if(s.isInt(M)){var S=N.pages[M-1];s.each(S,function(W,X){O.push(X)})}else s.isArray(M)&&s.each(M,function(W,X){X=N.pages[X-1],s.each(X,function(Y,Z){O.push(Z)})});if(O.length){if('csv'===I){var T,U,V;K=K||',',L=L||'\n',s.each(O,function(W,X){V=0,s.each(X.cells,function(Y,Z){0<V&&P.push(K),P.push(Z.textContent),V++}),P.push(L)}),T=P.join(''),J=J||'datatable_export',J+='.csv',T.match(/^data:text\/csv/i)||(T='data:text/csv;charset=utf-8,'+T),T=encodeURI(T),U=s.createElement('a'),U.setAttribute('href',T),U.setAttribute('download',J),document.body.appendChild(U),U.click(),document.body.removeChild(U)}this.emit('datatable.export',I,O)}},q.prototype.print=function(){var I=this.tHead.rows[0].cells,J=this.rows,K=s.createElement('table'),L=s.createElement('thead'),M=s.createElement('tbody'),N=s.createElement('tr');s.each(I,function(P,Q){N.appendChild(s.createElement('th',{html:Q.textContent}))}),L.appendChild(N),s.each(J,function(P,Q){var R=s.createElement('tr');s.each(Q.cells,function(S,T){R.appendChild(s.createElement('td',{html:T.textContent}))}),M.appendChild(R)}),K.appendChild(L),K.appendChild(M);var O=window.open();O.document.body.appendChild(K),O.print(),this.emit('datatable.print',K)},q.prototype.setMessage=function(I){var J=this.rows[0].cells.length;this.clear(s.createElement('tr',{html:'<td class="dataTables-empty" colspan="'+J+'">'+I+'</td>'}))},q});