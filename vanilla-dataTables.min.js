/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.1.11
 *
 */
!function(t,e){var s="DataTable";"function"==typeof define&&define.amd?define([],e(s)):"object"==typeof exports?module.exports=e(s):t[s]=e(s)}(this,function(t){"use strict";function e(t){this.instance=t}function s(t,e){var s={perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}};if(this.initialized=!1,this.options=a.extend(s,e),!t)throw new Error("The plugin requires a table as the first parameter");if("string"==typeof t){var i=t;if(!(t=document.querySelector(t)))throw new Error("The element '"+i+"' can not be found.")}if("table"!==t.tagName.toLowerCase())throw new Error("The selected element is not a table.");if(this.options.header||(this.options.sortable=!1),null===t.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),t.tBodies.length&&!t.tBodies[0].rows.length&&this.options.data&&!this.options.data.rows)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=t,this.init()}var a={extend:function(t,e){var s;for(s in e)e.hasOwnProperty(s)&&("[object Object]"===Object.prototype.toString.call(t[s])?a.extend(t[s],e[s]):t[s]=e[s]);return t},each:function(t,e,s){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(s,a,t[a],t);else for(var i=0,n=t.length;i<n;i++)e.call(s,i,t[i],t)},createElement:function(t,e){var s=document,a=s.createElement(t);if(e&&"object"==typeof e){var i;for(i in e)"html"===i?a.innerHTML=e[i]:"text"===i?a.appendChild(s.createTextNode(e[i])):a.setAttribute(i,e[i])}return a},createFragment:function(){return document.createDocumentFragment()},hasClass:function(t,e){return t.classList?t.classList.contains(e):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){a.hasClass(t,e)||(t.classList?t.classList.add(e):t.className=t.className.trim()+" "+e)},removeClass:function(t,e){a.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," "))},append:function(t,e){return t&&e&&t.appendChild(e)},on:function(t,e,s,a){t.addEventListener(e,function(t){s.call(a||this,t)},!1)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isInt:function(t){return!isNaN(t)&&function(t){return(t||0)===t}(parseFloat(t))},isJson:function(t){var e=!1;try{e=JSON.parse(t)}catch(t){return!1}return!(null===e||!a.isArray(e)&&!a.isObject(e))&&e},isDate:function(t){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t))return!1;var e=t.split("/"),s=parseInt(e[1],10),a=parseInt(e[0],10),i=parseInt(e[2],10);if(i<1e3||i>3e3||0==a||a>12)return!1;var n=[31,28,31,30,31,30,31,31,30,31,30,31];return(i%400==0||i%100!=0&&i%4==0)&&(n[1]=29),s>0&&s<=n[a-1]},getBoundingRect:function(t){var e=window,s=document,a=s.body,i=t.getBoundingClientRect(),n=void 0!==e.pageXOffset?e.pageXOffset:(s.documentElement||a.parentNode||a).scrollLeft,r=void 0!==e.pageYOffset?e.pageYOffset:(s.documentElement||a.parentNode||a).scrollTop;return{bottom:i.bottom+r,height:i.height,left:i.left+n,right:i.right+n,top:i.top+r,width:i.width}},preventDefault:function(t){if((t=t||window.event).preventDefault)return t.preventDefault()},includes:function(t,e){return t.indexOf(e)>-1},button:function(t,e,s){return a.createElement("li",{class:t,html:'<a href="#" data-page="'+e+'">'+s+"</a>"})},flush:function(t,e){if(t instanceof NodeList)a.each(t,function(t,s){a.flush(s,e)});else if(e)for(;t.hasChildNodes();)t.removeChild(t.firstChild);else t.innerHTML=""}},i=function(){var t=this.options,e="";if(t.data&&u.call(this),this.tbody=this.table.tBodies[0],this.tHead=this.table.tHead,this.tFoot=this.table.tFoot,this.tbody||(this.tbody=a.createElement("tbody"),this.table.appendChild(this.tbody)),this.hasRows=this.tbody.rows.length>0,!this.tHead){var s=a.createElement("thead"),i=a.createElement("tr");this.hasRows&&(a.each(this.tbody.rows[0].cells,function(t,e){a.append(i,a.createElement("th"))}),a.append(s,i)),this.tHead=s,this.table.insertBefore(this.tHead,this.tbody)}if(this.hasHeadings=this.tHead.rows.length>0,t.header||this.tHead&&this.table.removeChild(this.table.tHead),t.footer?this.tHead&&!this.tFoot&&(this.tFoot=a.createElement("tfoot",{html:this.tHead.innerHTML}),this.table.appendChild(this.tFoot)):this.tFoot&&this.table.removeChild(this.table.tFoot),this.wrapper=a.createElement("div",{class:"dataTable-wrapper"}),e+="<div class='dataTable-top'>",e+=t.layout.top,e+="</div>",e+="<div class='dataTable-container'></div>",e+="<div class='dataTable-bottom'>",e+=t.layout.bottom,e+="</div>",e=e.replace("{info}","<div class='dataTable-info'></div>"),t.perPageSelect){var o="<div class='dataTable-dropdown'><label>";o+=t.labels.perPage,o+="</label></div>";var h=a.createElement("select",{class:"dataTable-selector"});a.each(t.perPageSelect,function(e,s){var a=s===t.perPage,i=new Option(s,s,a,a);h.add(i)}),o=o.replace("{select}",h.outerHTML),e=e.replace("{select}",o)}else e=e.replace("{select}","");if(t.searchable){var l="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+t.labels.placeholder+"' type='text'></div>";e=e.replace("{search}",l)}else e=e.replace("{search}","");if(this.tHead&&this.tHead.rows.length){var c=this.tHead.rows[0].cells;a.each(c,function(e,s){if(s.idx=e,t.sortable){var i=a.createElement("a",{href:"#",class:"dataTable-sorter",html:s.innerHTML});s.innerHTML="",a.append(s,i)}})}a.addClass(this.table,"dataTable-table");var p=a.createElement("div",{class:"dataTable-pagination"}),f=a.createElement("ul");a.append(p,f),e=e.replace(/\{pager\}/g,p.outerHTML),this.wrapper.innerHTML=e,this.container=this.wrapper.querySelector(".dataTable-container"),this.paginators=this.wrapper.querySelectorAll(".dataTable-pagination"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=a.getBoundingRect(this.table),this.rows=[].slice.call(this.tbody.rows),this.update(),t.fixedHeight&&d.call(this),t.fixedColumns&&this.fixColumns(),n.call(this),r.call(this)},n=function(){var t=this.options;t.header||a.addClass(this.wrapper,"no-header"),t.footer||a.addClass(this.wrapper,"no-footer"),t.sortable&&a.addClass(this.wrapper,"sortable"),t.searchable&&a.addClass(this.wrapper,"searchable"),t.fixedHeight&&a.addClass(this.wrapper,"fixed-height"),t.fixedColumns&&a.addClass(this.wrapper,"fixed-columns")},r=function(){var t=this,e=t.options;if(e.perPageSelect){var s=t.wrapper.querySelector(".dataTable-selector");s&&a.on(s,"change",function(s){e.perPage=parseInt(this.value,10),t.update(),e.fixedHeight&&d.call(t),t.emit("datatable.perpage")})}e.searchable&&(t.input=t.wrapper.querySelector(".dataTable-input"),t.input&&a.on(t.input,"keyup",function(e){t.search(this.value)})),a.on(t.wrapper,"click",function(e){var s=e.target;"a"===s.nodeName.toLowerCase()&&s.hasAttribute("data-page")&&(a.preventDefault(e),t.page(s.getAttribute("data-page")))}),e.sortable&&a.on(t.tHead,"click",function(e){var s=(e=e||window.event).target;"a"===s.nodeName.toLowerCase()&&a.hasClass(s,"dataTable-sorter")&&(a.preventDefault(e),t.sortColumn(s.parentNode.idx+1))})},o=function(){var t=this.options.perPage,e=this.searching?this.searchData.slice():this.rows.slice();this.pages=e.map(function(s,i){var n=[].slice(s.cells);return a.each(n,function(t,e){e.hidden&&s.removeChild(e)}),i%t==0?e.slice(i,i+t):null}).filter(function(t){return t}),this.totalPages=this.lastPage=this.pages.length},h=function(){if(this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var t=this.currentPage-1,e=a.createFragment();switch(a.each(this.pages[t],function(t,s){a.append(e,s)}),this.clear(e),this.onFirstPage=!1,this.onLastPage=!1,this.currentPage){case 1:this.onFirstPage=!0;break;case this.lastPage:this.onLastPage=!0}}var s,i=0,n=0,r=0;if(this.totalPages&&(r=(n=(i=this.currentPage-1)*this.options.perPage)+this.pages[i].length,n+=1,s=this.searching?this.searchData.length:this.rows.length),this.label&&this.options.labels.info.length){var o=this.options.labels.info.replace("{start}",n).replace("{end}",r).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",s);this.label.innerHTML=s?o:""}this.options.fixedHeight&&1==this.currentPage&&d.call(this)},l=function(){if(a.flush(this.paginators,this.isIE),!(this.totalPages<=1)){var t="pager",e=a.createFragment(),s=this.onFirstPage?1:this.currentPage-1,i=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&a.append(e,a.button(t,1,this.options.firstText)),this.options.nextPrev&&a.append(e,a.button(t,s,this.options.prevText));var n=this.links;this.options.truncatePager&&(n=p(this.links,this.currentPage,this.pages.length,this.options.pagerDelta)),a.addClass(this.links[this.currentPage-1],"active"),a.each(n,function(t,s){a.removeClass(s,"active"),a.append(e,s)}),a.addClass(this.links[this.currentPage-1],"active"),this.options.nextPrev&&a.append(e,a.button(t,i,this.options.nextText)),this.options.firstLast&&a.append(e,a.button(t,this.totalPages,this.options.lastText)),a.each(this.paginators,function(t,s){a.append(s,e.cloneNode(!0))})}},c=function(t,e){var s,a;1===e?(s=0,a=t.length):-1===e&&(s=t.length-1,a=-1);for(var i=!0;i;){i=!1;for(var n=s;n!=a;n+=e)if(t[n+e]&&t[n].value>t[n+e].value){var r=t[n],o=t[n+e],h=r;t[n]=o,t[n+e]=h,i=!0}}return t},d=function(){this.container.style.height=null,this.rect=a.getBoundingRect(this.container),this.container.style.height=this.rect.height+"px"},p=function(t,e,s,i){var n,r=2*(i=i||2),o=e-i,h=e+i,l=[],c=[];e<4-i+r?h=3+r:e>s-(3-i+r)&&(o=s-(2+r));for(var d=1;d<=s;d++)if(1==d||d==s||d>=o&&d<=h){var p=t[d-1];a.removeClass(p,"active"),l.push(p)}return a.each(l,function(e,s){var i=s.children[0].getAttribute("data-page");if(n){var r=n.children[0].getAttribute("data-page");if(i-r==2)c.push(t[r]);else if(i-r!=1){var o=a.createElement("li",{class:"ellipsis",html:'<a href="#">&hellip;</a>'});c.push(o)}}c.push(s),n=s}),c},u=function(t){var e=!1,s=!1;if((t=t||this.options.data).headings){e=a.createElement("thead");var i=a.createElement("tr");a.each(t.headings,function(t,e){var s=a.createElement("th",{html:e});i.appendChild(s)}),e.appendChild(i)}t.rows&&(s=a.createElement("tbody"),a.each(t.rows,function(e,i){if(t.headings&&t.headings.length!==i.length)throw new Error("The number of rows do not match the number of headings.");var n=a.createElement("tr");a.each(i,function(t,e){var s=a.createElement("td",{html:e});n.appendChild(s)}),s.appendChild(n)})),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),a.append(this.table,e)),s&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),a.append(this.table,s))};return e.prototype.select=function(t){return this.columns=[],a.isInt(t)?this.columns.push(t):a.isArray(t)&&(this.columns=t),this},e.prototype.hide=function(){if(this.columns.length){var t=[].slice.call(this.instance.tHead.rows);t=t.concat(this.instance.rows),a.each(t,function(t,e){a.each(this.columns,function(t,s){e.cells[s].hidden=!0},this)},this),this.instance.update()}},e.prototype.show=function(){if(this.columns.length){var t=[].slice.call(this.instance.tHead.rows);t=t.concat(this.instance.rows),a.each(t,function(t,e){a.each(this.columns,function(t,s){e.cells[s].hidden=!1},this)},this),this.instance.update()}},s.extend=function(t,e){"function"==typeof e?s.prototype[t]=e:s[t]=e},s.prototype.init=function(t){if(this.initialized||a.hasClass(this.table,"dataTable-table"))return!1;var e=this;this.options=a.extend(this.options,t||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,i.call(this),setTimeout(function(){e.emit("datatable.init"),e.initialized=!0},10)},s.prototype.destroy=function(){this.options.sortable&&a.each(this.tHead.rows[0].cells,function(t,e){var s=e.firstElementChild.innerHTML;e.innerHTML=s,e.removeAttribute("style")},this);var t=a.createFragment();a.each(this.rows,function(e,s){t.appendChild(s)},this),this.clear(t),a.removeClass(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},s.prototype.on=function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},s.prototype.off=function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},s.prototype.emit=function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))},s.prototype.update=function(){o.call(this),h.call(this),!this.options.fixedColumns||this.searching||this.sorting||this.fixColumns(),this.links=[];for(var t=this.pages.length;t--;){var e=t+1;this.links[t]=a.button(0===t?"active":"",e,e)}this.sorting=!1,l.call(this),this.emit("datatable.update")},s.prototype.fixColumns=function(){var t,e=!1;if(this.table.tHead&&this.table.tHead.rows.length)t=this.table.tHead.rows[0].cells,a.each(t,function(t,e){e.style.width=""},this),a.each(t,function(t,e){var s=a.getBoundingRect(e).width/this.rect.width*100;e.style.width=s+"%"},this);else{t=[],e=a.createElement("thead");var s=a.createElement("tr"),i=this.table.tBodies[0].rows[0].cells;a.each(i,function(e,i){var n=a.createElement("th");s.appendChild(n),t.push(n)}),e.appendChild(s),this.table.insertBefore(e,this.table.tBodies[0]);var n=[];a.each(t,function(t,e){var s=a.getBoundingRect(e).width/this.rect.width*100;n.push(s)},this),a.each(this.rows,function(t,e){a.each(e.cells,function(t,e){e.style.width=n[t]+"%"})}),this.table.removeChild(e)}},s.prototype.search=function(t){return!!this.hasRows&&(t=t.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],t.length?(this.clear(),a.each(this.rows,function(e,s){var i=a.includes(this.searchData,s);t.split(" ").reduce(function(t,e){for(var i=!1,n=0;n<s.cells.length;n++)if(a.includes(s.cells[n].textContent.toLowerCase(),e)&&!s.cells[n].hidden){i=!0;break}return t&&i},!0)&&!i&&this.searchData.push(s)},this),a.addClass(this.wrapper,"search-results"),this.searchData.length||(a.removeClass(this.wrapper,"search-results"),this.setMessage(this.options.labels.noRows)),this.update(),void this.emit("datatable.search",t,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",t,this.searchData),a.removeClass(this.wrapper,"search-results"),!1))},s.prototype.page=function(t){return t!=this.currentPage&&(isNaN(t)||(this.currentPage=parseInt(t,10)),!(t>this.pages.length||t<0)&&(h.call(this),l.call(this),void this.emit("datatable.page",t)))},s.prototype.sortColumn=function(t,e,s){if(t<1||t>this.tHead.rows[0].cells.length)return!1;this.sorting=!0,t-=1;var i,n=this.searching?this.searchData:this.rows,r=[],o=[],h=0,l=0,d=this.tHead.rows[0].cells[t];a.each(n,function(e,s){var i=s.cells[t].textContent,n=i.replace(/(\$|\,|\s|%)/g,"");a.isDate(n)&&(n=Date.parse(n)),parseFloat(n)==n?o[l++]={value:Number(n),row:s}:r[h++]={value:i,row:s}});var p,u;a.hasClass(d,"asc")||"asc"==e?(p=c(r,-1),u=c(o,-1),i="descending",a.removeClass(d,"asc"),a.addClass(d,"desc")):(p=c(o,1),u=c(r,1),i="ascending",a.removeClass(d,"desc"),a.addClass(d,"asc")),this.lastTh&&d!=this.lastTh&&(a.removeClass(this.lastTh,"desc"),a.removeClass(this.lastTh,"asc")),this.lastTh=d,n=p.concat(u),this.searching?(this.searchData=[],a.each(n,function(t,e){this.searchData.push(e.row)},this)):(this.rows=[],a.each(n,function(t,e){this.rows.push(e.row)},this)),this.update(),this.emit("datatable.sort",t,i)},s.prototype.addRows=function(t){if(!a.isObject(t))throw new Error("Method addRows requires an object.");if(!t.rows)throw new Error("Method addRows requires the 'rows' property.");if(t.headings&&!this.hasHeadings&&!this.hasRows){var e,s=a.createElement("tr");a.each(t.headings,function(t,i){e=a.createElement("th",{html:i}),s.appendChild(e)}),this.tHead.appendChild(s)}a.each(t.rows,function(t,e){var s=a.createElement("tr");a.each(e,function(t,e){var i=a.createElement("td",{html:e});s.appendChild(i)},this),this.rows.push(s)},this),this.hasRows=!0,this.update()},s.prototype.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},s.prototype.clear=function(t){this.tbody&&a.flush(this.tbody,this.isIE);var e=this.tbody;this.tbody||(e=this.table),t&&("string"==typeof t?e.innerHTML=t:a.append(e,t))},s.prototype.export=function(t){if(!this.hasHeadings&&!this.hasRows)return!1;var e,s,i,n,r=this.tHead.rows[0].cells,o=[],h=[],l={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4};if(!a.isObject(t))return!1;if((t=a.extend(l,t)).type){if("txt"!==t.type&&"csv"!==t.type||(o[0]=this.tHead.rows[0]),t.selection){if(a.isInt(t.selection))o=o.concat(this.pages[t.selection-1]);else if(a.isArray(t.selection))for(e=0;e<t.selection.length;e++)o=o.concat(this.pages[t.selection[e]-1])}else o=o.concat(this.rows);if(o.length){if("txt"===t.type||"csv"===t.type){for(i="",e=0;e<o.length;e++){for(s=0;s<o[e].cells.length;s++)t.skipColumn.indexOf(s)<0&&(i+=o[e].cells[s].textContent+t.columnDelimiter);i=i.trim().substring(0,i.length-1),i+=t.lineDelimiter}i=i.trim().substring(0,i.length-1),t.download&&(i="data:text/csv;charset=utf-8,"+i)}else if("sql"===t.type){for(i="INSERT INTO `"+t.tableName+"` (",e=0;e<r.length;e++)t.skipColumn.indexOf(e)<0&&(i+="`"+r[e].textContent+"`,");for(i=i.trim().substring(0,i.length-1),i+=") VALUES ",e=0;e<o.length;e++){for(i+="(",s=0;s<o[e].cells.length;s++)t.skipColumn.indexOf(s)<0&&(i+='"'+o[e].cells[s].textContent+'",');i=i.trim().substring(0,i.length-1),i+="),"}i=i.trim().substring(0,i.length-1),i+=";",t.download&&(i="data:application/sql;charset=utf-8,"+i)}else if("json"===t.type){for(s=0;s<o.length;s++)for(h[s]=h[s]||{},e=0;e<r.length;e++)h[s][r[e].textContent]=o[s].cells[e].textContent;i=JSON.stringify(h,t.replacer,t.space),t.download&&(i="data:application/json;charset=utf-8,"+i)}return t.download&&(t.filename=t.filename||"datatable_export",t.filename+="."+t.type,i=encodeURI(i),(n=document.createElement("a")).href=i,n.download=t.filename,document.body.appendChild(n),n.click(),document.body.removeChild(n)),i}}return!1},s.prototype.import=function(t){var e=!1,s={lineDelimiter:"\n",columnDelimiter:","};if(!a.isObject(t))return!1;if((t=a.extend(s,t)).data.length){if("csv"===t.type){e={rows:[]};var i=t.data.split(t.lineDelimiter);i.length&&a.each(i,function(s,i){e.rows[s]=[];var n=i.split(t.columnDelimiter);n.length&&a.each(n,function(t,a){e.rows[s].push(a)})})}else if("json"===t.type){var n=a.isJson(t.data);n?(e={headings:[],rows:[]},a.each(n,function(t,s){e.rows[t]=[],a.each(s,function(s,i){a.includes(e.headings,s)||e.headings.push(s),e.rows[t].push(i)})})):console.warn("That's not valid JSON!")}e&&this.addRows(e)}return!1},s.prototype.print=function(){var t=this.tHead.rows[0].cells,e=this.rows,s=a.createElement("table"),i=a.createElement("thead"),n=a.createElement("tbody"),r=a.createElement("tr");a.each(t,function(t,e){r.appendChild(a.createElement("th",{html:e.textContent}))}),i.appendChild(r),a.each(e,function(t,e){var s=a.createElement("tr");a.each(e.cells,function(t,e){s.appendChild(a.createElement("td",{html:e.textContent}))}),n.appendChild(s)}),s.appendChild(i),s.appendChild(n);var o=window.open();o.document.body.appendChild(s),o.print(),this.emit("datatable.print",s)},s.prototype.setMessage=function(t){var e=1;this.hasRows&&(e=this.rows[0].cells.length),this.clear(a.createElement("tr",{html:'<td class="dataTables-empty" colspan="'+e+'">'+t+"</td>"}))},s.prototype.columns=function(){return new e(this)},s});