/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobiuswebdesign.co.uk)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.1.10
 *
 */
!function(t,e){var a="DataTable";"function"==typeof define&&define.amd?define([],e(a)):"object"==typeof exports?module.exports=e(a):t[a]=e(a)}(this,function(t){"use strict";function e(t,e){var s={perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}};if(this.initialized=!1,this.options=a.extend(s,e),!t)throw new Error("The plugin requires a table as the first parameter");if("string"==typeof t){var i=t;if(!(t=document.querySelector(t)))throw new Error("The element '"+i+"' can not be found.")}if("table"!==t.tagName.toLowerCase())throw new Error("The selected element is not a table.");if(this.options.header||(this.options.sortable=!1),null===t.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),!t.tBodies.length){if(!this.options.data)throw new Error("You don't seem to have a tbody in your table.");if(!this.options.data.rows)throw new Error("You seem to be using the data option, but you've not defined any rows.")}if(t.tBodies.length&&!t.tBodies[0].rows.length&&this.options.data&&!this.options.data.rows)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=t,this.init()}var a={extend:function(t,e){var s;for(s in e)e.hasOwnProperty(s)&&("[object Object]"===Object.prototype.toString.call(t[s])?a.extend(t[s],e[s]):t[s]=e[s]);return t},each:function(t,e,a){if("[object Object]"===Object.prototype.toString.call(t))for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(a,s,t[s],t);else for(var i=0,n=t.length;i<n;i++)e.call(a,i,t[i],t)},createElement:function(t,e){var a=document,s=a.createElement(t);if(e&&"object"==typeof e){var i;for(i in e)"html"===i?s.innerHTML=e[i]:"text"===i?s.appendChild(a.createTextNode(e[i])):s.setAttribute(i,e[i])}return s},createFragment:function(){return document.createDocumentFragment()},hasClass:function(t,e){return t.classList?t.classList.contains(e):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){a.hasClass(t,e)||(t.classList?t.classList.add(e):t.className=t.className.trim()+" "+e)},removeClass:function(t,e){a.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," "))},append:function(t,e){return t&&e&&t.appendChild(e)},on:function(t,e,a,s){t.addEventListener(e,function(t){a.call(s||this,t)},!1)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isInt:function(t){return!isNaN(t)&&function(t){return(t||0)===t}(parseFloat(t))},getBoundingRect:function(t){var e=window,a=document,s=a.body,i=t.getBoundingClientRect(),n=void 0!==e.pageXOffset?e.pageXOffset:(a.documentElement||s.parentNode||s).scrollLeft,r=void 0!==e.pageYOffset?e.pageYOffset:(a.documentElement||s.parentNode||s).scrollTop;return{bottom:i.bottom+r,height:i.height,left:i.left+n,right:i.right+n,top:i.top+r,width:i.width}},preventDefault:function(t){if((t=t||window.event).preventDefault)return t.preventDefault()},includes:function(t,e){return t.indexOf(e)>-1},button:function(t,e,s){return a.createElement("li",{class:t,html:'<a href="#" data-page="'+e+'">'+s+"</a>"})},flush:function(t,e){if(t instanceof NodeList)a.each(t,function(t,s){a.flush(s,e)});else if(e)for(;t.hasChildNodes();)t.removeChild(t.firstChild);else t.innerHTML=""}},s=function(){var t=this.options,e="";if(u.mixin(this),t.data&&d.call(this),this.tbody=this.table.tBodies[0],this.tHead=this.table.tHead,this.tFoot=this.table.tFoot,!this.tHead){var s=a.createElement("thead"),r=a.createElement("tr");a.each(this.tbody.rows[0].cells,function(t,e){a.append(r,a.createElement("th"))}),a.append(s,r),this.tHead=s}if(t.header||this.tHead&&this.table.removeChild(this.table.tHead),t.footer?this.tHead&&!this.tFoot&&(this.tFoot=a.createElement("tfoot",{html:this.tHead.innerHTML}),this.table.appendChild(this.tFoot)):this.tFoot&&this.table.removeChild(this.table.tFoot),this.wrapper=a.createElement("div",{class:"dataTable-wrapper"}),e+="<div class='dataTable-top'>",e+=t.layout.top,e+="</div>",e+="<div class='dataTable-container'></div>",e+="<div class='dataTable-bottom'>",e+=t.layout.bottom,e+="</div>",e=e.replace("{info}","<div class='dataTable-info'></div>"),t.perPageSelect){var o="<div class='dataTable-dropdown'><label>";o+=t.labels.perPage,o+="</label></div>";var l=a.createElement("select",{class:"dataTable-selector"});a.each(t.perPageSelect,function(e,a){var s=a===t.perPage,i=new Option(a,a,s,s);l.add(i)}),o=o.replace("{select}",l.outerHTML),e=e.replace("{select}",o)}else e=e.replace("{select}","");if(t.searchable){var h="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+t.labels.placeholder+"' type='text'></div>";e=e.replace("{search}",h)}else e=e.replace("{search}","");var p=this.tHead.rows[0].cells;a.each(p,function(e,s){if(s.idx=e,t.sortable){var i=a.createElement("a",{href:"#",class:"dataTable-sorter",html:s.innerHTML});s.innerHTML="",a.append(s,i)}}),a.addClass(this.table,"dataTable-table");var f=a.createElement("div",{class:"dataTable-pagination"}),g=a.createElement("ul");if(a.append(f,g),e=e.replace(/\{pager\}/g,f.outerHTML),this.wrapper.innerHTML=e,this.container=this.wrapper.querySelector(".dataTable-container"),this.paginators=this.wrapper.querySelectorAll(".dataTable-pagination"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=a.getBoundingRect(this.table),this.rows=Array.prototype.slice.call(this.tbody.rows),this.update(),t.fixedHeight&&c.call(this),t.fixedColumns){var b,m=!1;if(this.table.tHead)b=this.table.tHead.rows[0].cells,a.each(b,function(t,e){var s=a.getBoundingRect(e).width/this.rect.width*100;e.style.width=s+"%"},this);else{b=[],m=a.createElement("thead");var v=a.createElement("tr"),w=this.table.tBodies[0].rows[0].cells;a.each(w,function(t,e){var s=a.createElement("th");v.appendChild(s),b.push(s)}),m.appendChild(v),this.table.insertBefore(m,this.table.tBodies[0]);var y=[];a.each(b,function(t,e){var s=a.getBoundingRect(e).width/this.rect.width*100;y.push(s)},this),a.each(this.rows,function(t,e){a.each(e.cells,function(t,e){e.style.width=y[t]+"%"})}),this.table.removeChild(m)}}i.call(this),n.call(this)},i=function(){var t=this.options;t.header||a.addClass(this.wrapper,"no-header"),t.footer||a.addClass(this.wrapper,"no-footer"),t.sortable&&a.addClass(this.wrapper,"sortable"),t.searchable&&a.addClass(this.wrapper,"searchable"),t.fixedHeight&&a.addClass(this.wrapper,"fixed-height"),t.fixedColumns&&a.addClass(this.wrapper,"fixed-columns")},n=function(){var t=this,e=t.options;if(e.perPageSelect){var s=t.wrapper.querySelector(".dataTable-selector");s&&a.on(s,"change",function(a){e.perPage=parseInt(this.value,10),t.update(),e.fixedHeight&&c.call(t),t.emit("datatable.perpage")})}e.searchable&&(t.input=t.wrapper.querySelector(".dataTable-input"),t.input&&a.on(t.input,"keyup",function(e){t.search(this.value)})),a.on(t.wrapper,"click",function(e){var s=e.target;"a"===s.nodeName.toLowerCase()&&s.hasAttribute("data-page")&&(a.preventDefault(e),t.page(s.getAttribute("data-page")))}),e.sortable&&a.on(t.tHead,"click",function(e){var s=(e=e||window.event).target;"a"===s.nodeName.toLowerCase()&&a.hasClass(s,"dataTable-sorter")&&(a.preventDefault(e),t.sortColumn(s.parentNode.idx+1))})},r=function(){var t=this.options.perPage,e=this.searching?this.searchData:this.rows;this.pages=e.map(function(a,s){return s%t==0?e.slice(s,s+t):null}).filter(function(t){return t}),this.totalPages=this.lastPage=this.pages.length},o=function(){if(this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var t=this.currentPage-1,e=a.createFragment();switch(a.each(this.pages[t],function(t,s){a.append(e,s)}),this.clear(e),this.onFirstPage=!1,this.onLastPage=!1,this.currentPage){case 1:this.onFirstPage=!0;break;case this.lastPage:this.onLastPage=!0}}var s,i=0,n=0,r=0;if(this.totalPages&&(r=(n=(i=this.currentPage-1)*this.options.perPage)+this.pages[i].length,n+=1,s=this.searching?this.searchData.length:this.rows.length),this.label&&this.options.labels.info.length){var o=this.options.labels.info.replace("{start}",n).replace("{end}",r).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",s);this.label.innerHTML=s?o:""}this.options.fixedHeight&&1==this.currentPage&&c.call(this)},l=function(){if(a.flush(this.paginators,this.isIE),!(this.totalPages<=1)){var t="pager",e=a.createFragment(),s=this.onFirstPage?1:this.currentPage-1,i=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&a.append(e,a.button(t,1,this.options.firstText)),this.options.nextPrev&&a.append(e,a.button(t,s,this.options.prevText));var n=this.links;this.options.truncatePager&&(n=p(this.links,this.currentPage,this.pages.length,this.options.pagerDelta)),a.addClass(this.links[this.currentPage-1],"active"),a.each(n,function(t,s){a.removeClass(s,"active"),a.append(e,s)}),a.addClass(this.links[this.currentPage-1],"active"),this.options.nextPrev&&a.append(e,a.button(t,i,this.options.nextText)),this.options.firstLast&&a.append(e,a.button(t,this.totalPages,this.options.lastText)),a.each(this.paginators,function(t,s){a.append(s,e.cloneNode(!0))})}},h=function(t,e){var a,s;1===e?(a=0,s=t.length):-1===e&&(a=t.length-1,s=-1);for(var i=!0;i;){i=!1;for(var n=a;n!=s;n+=e)if(t[n+e]&&t[n].value>t[n+e].value){var r=t[n],o=t[n+e],l=r;t[n]=o,t[n+e]=l,i=!0}}return t},c=function(){this.container.style.height=null,this.rect=a.getBoundingRect(this.container),this.container.style.height=this.rect.height+"px"},p=function(t,e,s,i){var n,r=2*(i=i||2),o=e-i,l=e+i,h=[],c=[];e<4-i+r?l=3+r:e>s-(3-i+r)&&(o=s-(2+r));for(var p=1;p<=s;p++)if(1==p||p==s||p>=o&&p<=l){var d=t[p-1];a.removeClass(d,"active"),h.push(d)}return a.each(h,function(e,s){var i=s.children[0].getAttribute("data-page");if(n){var r=n.children[0].getAttribute("data-page");if(i-r==2)c.push(t[r]);else if(i-r!=1){var o=a.createElement("li",{class:"ellipsis",html:'<a href="#">&hellip;</a>'});c.push(o)}}c.push(s),n=s}),c},d=function(t){var e=!1,s=!1;if((t=t||this.options.data).headings){e=a.createElement("thead");var i=a.createElement("tr");a.each(t.headings,function(t,e){var s=a.createElement("th",{html:e});i.appendChild(s)}),e.appendChild(i)}t.rows&&(s=a.createElement("tbody"),a.each(t.rows,function(e,i){if(t.headings&&t.headings.length!==i.length)throw new Error("The number of rows do not match the number of headings.");var n=a.createElement("tr");a.each(i,function(t,e){var s=a.createElement("td",{html:e});n.appendChild(s)}),s.appendChild(n)})),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),a.append(this.table,e)),s&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),a.append(this.table,s))},u=function(){};return u.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},u.mixin=function(t){for(var e=["on","off","emit"],a=0;a<e.length;a++)"function"==typeof t?t.prototype[e[a]]=u.prototype[e[a]]:t[e[a]]=u.prototype[e[a]];return t},e.prototype.init=function(t){if(this.initialized||a.hasClass(this.table,"dataTable-table"))return!1;var e=this;this.options=a.extend(this.options,t||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,s.call(this),setTimeout(function(){e.emit("datatable.init"),e.initialized=!0},10)},e.prototype.destroy=function(){this.options.sortable&&a.each(this.tHead.rows[0].cells,function(t,e){var a=e.firstElementChild.innerHTML;e.innerHTML=a,e.removeAttribute("style")},this);var t=a.createFragment();a.each(this.rows,function(e,a){t.appendChild(a)},this),this.clear(t),a.removeClass(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},e.prototype.update=function(){r.call(this),o.call(this),this.links=[];for(var t=this.pages.length;t--;){var e=t+1;this.links[t]=a.button(0===t?"active":"",e,e)}l.call(this),this.emit("datatable.update")},e.prototype.search=function(t){if(t=t.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],!t.length)return this.searching=!1,this.update(),this.emit("datatable.search",t,this.searchData),a.removeClass(this.wrapper,"search-results"),!1;this.clear(),a.each(this.rows,function(e,s){var i=a.includes(this.searchData,s);t.split(" ").reduce(function(t,e){return t&&a.includes(s.textContent.toLowerCase(),e)},!0)&&!i&&this.searchData.push(s)},this),a.addClass(this.wrapper,"search-results"),this.searchData.length||(a.removeClass(this.wrapper,"search-results"),this.setMessage(this.options.labels.noRows)),this.update(),this.emit("datatable.search",t,this.searchData)},e.prototype.page=function(t){return t!=this.currentPage&&(isNaN(t)||(this.currentPage=parseInt(t,10)),!(t>this.pages.length||t<0)&&(o.call(this),l.call(this),void this.emit("datatable.page",t)))},e.prototype.sortColumn=function(t,e){if(t<1||t>this.tHead.rows[0].cells.length)return!1;t-=1;var s,i=this.searching?this.searchData:this.rows,n=[],r=[],o=0,l=0,c=this.tHead.rows[0].cells[t];a.each(i,function(e,a){var s=a.cells[t].textContent,i=s.replace(/(\$|\,|\s)/g,"");parseFloat(i)==i?r[l++]={value:Number(i),row:a}:n[o++]={value:s,row:a}});var p,d;a.hasClass(c,"asc")||"asc"==e?(p=h(n,-1),d=h(r,-1),s="descending",a.removeClass(c,"asc"),a.addClass(c,"desc")):(p=h(r,1),d=h(n,1),s="ascending",a.removeClass(c,"desc"),a.addClass(c,"asc")),this.lastTh&&c!=this.lastTh&&(a.removeClass(this.lastTh,"desc"),a.removeClass(this.lastTh,"asc")),this.lastTh=c,i=p.concat(d),this.searching?(this.searchData=[],a.each(i,function(t,e){this.searchData.push(e.row)},this)):(this.rows=[],a.each(i,function(t,e){this.rows.push(e.row)},this)),this.update(),this.emit("datatable.sort",t,s)},e.prototype.addRows=function(t){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error("Function addRows: The method requires an object.");if(!t.rows)throw new Error("Function addRows: Your object is missing the 'rows' property.");var e=this;a.each(t.rows,function(t,s){var i=a.createElement("tr");a.each(s,function(t,e){var s=a.createElement("td",{html:e});i.appendChild(s)}),e.rows.push(i)}),this.update()},e.prototype.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},e.prototype.clear=function(t){this.tbody&&a.flush(this.tbody,this.isIE);var e=this.tbody;this.tbody||(e=this.table),t&&("string"==typeof t?e.innerHTML=t:a.append(e,t))},e.prototype.export=function(t){var e,s,i,n,r=this.tHead.rows[0].cells,o=[],l=[],h={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4};if(!a.isObject(t))return!1;if((t=a.extend(h,t)).type){if("txt"!==t.type&&"csv"!==t.type||(o[0]=this.tHead.rows[0]),t.selection){if(a.isInt(t.selection))o=o.concat(this.pages[t.selection-1]);else if(a.isArray(t.selection))for(e=0;e<t.selection.length;e++)o=o.concat(this.pages[t.selection[e]-1])}else o=o.concat(this.rows);if(o.length){if("txt"===t.type||"csv"===t.type){for(i="",e=0;e<o.length;e++){for(s=0;s<o[e].cells.length;s++)t.skipColumn.indexOf(s)<0&&(i+=o[e].cells[s].textContent+t.columnDelimiter);i=i.trim().substring(0,i.length-1),i+=t.lineDelimiter}i=i.trim().substring(0,i.length-1),t.download&&(i="data:text/csv;charset=utf-8,"+i)}else if("sql"===t.type){for(i="INSERT INTO `"+t.tableName+"` (",e=0;e<r.length;e++)t.skipColumn.indexOf(e)<0&&(i+="`"+r[e].textContent+"`,");for(i=i.trim().substring(0,i.length-1),i+=") VALUES ",e=0;e<o.length;e++){for(i+="(",s=0;s<o[e].cells.length;s++)t.skipColumn.indexOf(s)<0&&(i+='"'+o[e].cells[s].textContent+'",');i=i.trim().substring(0,i.length-1),i+="),"}i=i.trim().substring(0,i.length-1),i+=";",t.download&&(i="data:application/sql;charset=utf-8,"+i)}else if("json"===t.type){for(s=0;s<o.length;s++)for(l[s]=l[s]||{},e=0;e<r.length;e++)l[s][r[e].textContent]=o[s].cells[e].textContent;i=JSON.stringify(l,t.replacer,t.space),t.download&&(i="data:application/json;charset=utf-8,"+i)}return t.download&&(t.filename=t.filename||"datatable_export",t.filename+="."+t.type,i=encodeURI(i),(n=document.createElement("a")).href=i,n.download=t.filename,document.body.appendChild(n),n.click(),document.body.removeChild(n)),i}}return!1},e.prototype.print=function(){var t=this.tHead.rows[0].cells,e=this.rows,s=a.createElement("table"),i=a.createElement("thead"),n=a.createElement("tbody"),r=a.createElement("tr");a.each(t,function(t,e){r.appendChild(a.createElement("th",{html:e.textContent}))}),i.appendChild(r),a.each(e,function(t,e){var s=a.createElement("tr");a.each(e.cells,function(t,e){s.appendChild(a.createElement("td",{html:e.textContent}))}),n.appendChild(s)}),s.appendChild(i),s.appendChild(n);var o=window.open();o.document.body.appendChild(s),o.print(),this.emit("datatable.print",s)},e.prototype.setMessage=function(t){var e=this.rows[0].cells.length;this.clear(a.createElement("tr",{html:'<td class="dataTables-empty" colspan="'+e+'">'+t+"</td>"}))},e});